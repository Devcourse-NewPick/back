# ğŸ“° ë‰´í”½ ë°±ì—”ë“œ

### **ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”**

ë‰´í”½(NewPick) ì„œë¹„ìŠ¤ëŠ” ì‚¬ìš©ìê°€ ê´€ì‹¬ ë¶„ì•¼ë¥¼ ì„¤ì •í•˜ë©´ ìµœì‹  ë‰´ìŠ¤ë¥¼ AI ë§ì¶¤í˜•ìœ¼ë¡œ ë°›ì•„ë³¼ ìˆ˜ ìˆëŠ” ì§ê´€ì ì´ê³  ì‚¬ìš©ì ì¹œí™”ì ì¸ ë‰´ìŠ¤ë ˆí„° ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. 

AI ê¸°ë°˜ ë‰´ìŠ¤ ìš”ì•½ê³¼ íš¨ìœ¨ì ì¸ í¬ë¡¤ë§ ê¸°ëŠ¥ì„ í†µí•´ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê³  ì´ë©”ì¼ ë‰´ìŠ¤ë ˆí„° ì„œë¹„ìŠ¤ê¹Œì§€ ì œê³µí•©ë‹ˆë‹¤. 

ë°±ì—”ë“œ ì‹œìŠ¤í…œì€ NestJS ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•í•˜ì—¬ ì•ˆì •ì„±ê³¼ í™•ì¥ì„±ì„ í™•ë³´í•˜ì˜€ìœ¼ë©°, MySQL, MongoDB, Redisë¥¼ ì‚¬ìš©í•´ ë°ì´í„° ì €ì¥ ë° ìºì‹±ì„ ê´€ë¦¬í•˜ëŠ” êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

---

### **ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥**

#### **1. ì‚¬ìš©ì ê´€ë¦¬**

- **íšŒì›ê°€ì… ë° ë¡œê·¸ì¸**: ì´ë©”ì¼ ë° ì†Œì…œ ë¡œê·¸ì¸(OAuth 2.0) ì§€ì›.
- **í”„ë¡œí•„ ê´€ë¦¬**: ê´€ì‹¬ ë¶„ì•¼ ì„¤ì • ë° ë‰´ìŠ¤ë ˆí„° ìˆ˜ì‹  ì£¼ê¸° ì„¤ì •.

#### **2. ë‰´ìŠ¤ í¬ë¡¤ë§**

- **í˜ì´ì§€ í¬ë¡¤ë§**: í¬ë¡¤ëŸ¬ë¡œ ë¸Œë¼ìš°ì € í˜ì´ì§€ì—ì„œ í•„ìš”í•œ ì •ë³´ ìˆ˜ì§‘.

#### **3. AI ìš”ì•½ ë° ë‰´ìŠ¤ ì¶”ì²œ**

- **OpenAI API ì—°ë™**: ë‰´ìŠ¤ ë³¸ë¬¸ ìš”ì•½ ë° ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ.
- **ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜**: ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ì— ê¸°ë°˜í•˜ì—¬ ìœ ì‚¬ ë‰´ìŠ¤ ì¶”ì²œ.

#### **4. ë‰´ìŠ¤ë ˆí„° ìƒì„± ë° ë°œì†¡**

- **ë‰´ìŠ¤ë ˆí„° ìë™ ìƒì„±**: ì„¤ì •ëœ ì£¼ê¸°(ì¼ê°„, ì£¼ê°„, ì›”ê°„)ëŒ€ë¡œ ìƒì„±.
- **ì´ë©”ì¼ ë°œì†¡**: `nodemailer`ë¥¼ í†µí•´ ë‰´ìŠ¤ë ˆí„° ë°œì†¡.
- **ë°œì†¡ ì‹¤íŒ¨ ëŒ€ì‘**: `BullMQ`ì™€ `Redis`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¬ì‹œë„ ì²˜ë¦¬.

#### **5. í”¼ë“œë°± ìˆ˜ì§‘ ë° ë¶„ì„**

- **ë³„ì  ë° ì˜ê²¬ ì œì¶œ**: ë‰´ìŠ¤ë ˆí„°ì— ëŒ€í•œ ì‚¬ìš©ì í‰ê°€ ìˆ˜ì§‘.
- **í”¼ë“œë°± ë°ì´í„° ë¶„ì„**: ì¶”ì²œ ëª¨ë¸ ê°œì„ ì„ ìœ„í•œ ë¶„ì„.

---

### **ğŸ“Œ ì£¼ìš” ëª¨ë“ˆ ì„¤ëª…**

#### **1. ì¸ì¦ ë° ì‚¬ìš©ì ê´€ë¦¬ ëª¨ë“ˆ (`auth/`)**

- **ê¸°ëŠ¥**: JWT í† í° ê¸°ë°˜ ì¸ì¦ ë° ì†Œì…œ ë¡œê·¸ì¸.
- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: `@nestjs/jwt`, `passport-jwt`, `bcrypt`.

#### **2. ë‰´ìŠ¤ í¬ë¡¤ë§ ëª¨ë“ˆ (`crawling/`)**

- **ê¸°ëŠ¥**: ë‰´ìŠ¤ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ìµœì‹  ë‰´ìŠ¤ë¥¼ ìˆ˜ì§‘.
- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: `puppeteer`, `p-queue`, `mongoose`.

#### **3. AI ìš”ì•½ ë° ì¶”ì²œ ëª¨ë“ˆ (`ai-summary/`)**

- **ê¸°ëŠ¥**: OpenAI APIë¥¼ í†µí•´ ë‰´ìŠ¤ ë³¸ë¬¸ì„ ìš”ì•½ ë° ì¶”ì²œ.
- **ì˜ˆì • ê¸°ëŠ¥**: ë‰´ìŠ¤ ë³¸ë¬¸ì„ ìì²´ í•™ìŠµ ëª¨ë¸ë¡œ ì „í™˜í•˜ì—¬ ë¹„ìš© ìµœì í™”.

#### **4. ë‰´ìŠ¤ë ˆí„° ìƒì„± ë° ë°œì†¡ ëª¨ë“ˆ (`newsletter/`)**

- **ê¸°ëŠ¥**: ë‰´ìŠ¤ë ˆí„° ìƒì„± ë° ì´ë©”ì¼ ë°œì†¡.
- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: `@nestjs-modules/mailer`, `nodemailer`.
- **ì—ëŸ¬ ì²˜ë¦¬**: `BullMQ`ë¥¼ ì‚¬ìš©í•´ ë°œì†¡ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§.

#### **5. í”¼ë“œë°± ìˆ˜ì§‘ ëª¨ë“ˆ (`feedback/`)**

- **ê¸°ëŠ¥**: ë‰´ìŠ¤ë ˆí„°ì— ëŒ€í•œ ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘.
- **í™œìš©**: í”¼ë“œë°± ë°ì´í„°ë¥¼ ë¶„ì„í•´ ì¶”ì²œ ëª¨ë¸ ìµœì í™”.

---

### **ğŸ“Œ API ê¸°ëŠ¥ ë° ì„¤ëª…**

#### **ì‚¬ìš©ì ê´€ë¦¬ API**

- **POST /auth/signup**: íšŒì›ê°€ì… ìš”ì²­.
- **POST /auth/login**: ë¡œê·¸ì¸ ìš”ì²­.
- **GET /user/profile**: ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ ë° ìˆ˜ì •.

#### **AI ë‰´ìŠ¤ ìš”ì•½ ë° ì¶”ì²œ API**

- **POST /news/summary**: ì…ë ¥ëœ ë‰´ìŠ¤ ë³¸ë¬¸ì„ AIë¡œ ìš”ì•½.
- **GET /news/recommend**: ì‚¬ìš©ì ê´€ì‹¬ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‰´ìŠ¤ ì¶”ì²œ.

#### **ë‰´ìŠ¤ë ˆí„° ë°œì†¡ API**

- **POST /newsletter/send**: ë‰´ìŠ¤ë ˆí„° ë°œì†¡ ìš”ì²­.
- **GET /newsletter/preview**: ë‰´ìŠ¤ë ˆí„° ë¯¸ë¦¬ë³´ê¸°.

#### **í”¼ë“œë°± ìˆ˜ì§‘ API**

- **POST /feedback**: ë‰´ìŠ¤ë ˆí„° í”¼ë“œë°± ì œì¶œ.

---

### **ğŸ“Œ ê¸°ìˆ  ìŠ¤íƒ**

#### **1. ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬**

- **NestJS**: ëª¨ë“ˆ ê¸°ë°˜ì˜ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë›°ì–´ë‚œ Node.js í”„ë ˆì„ì›Œí¬.
- **TypeScript**: íƒ€ì… ì•ˆì •ì„±ì„ í†µí•´ ì½”ë“œ ê°€ë…ì„± ë° ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ.

#### **2. ë°ì´í„°ë² ì´ìŠ¤ ë° ìºì‹±**

- **MySQL**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì‚¬ìš©ì ë° ë‰´ìŠ¤ë ˆí„° ë°ì´í„° ì €ì¥.
- **MongoDB**: ë¹„ì •í˜• ë°ì´í„°(í¬ë¡¤ë§ ë°ì´í„°) ì €ì¥.
- **Redis**: ì‘ì—… í ë° ë°ì´í„° ìºì‹±ì„ ìœ„í•œ ì¸ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤.

#### **3. AI ì„œë¹„ìŠ¤**

- **OpenAI API**: ë‰´ìŠ¤ ë³¸ë¬¸ì„ ìš”ì•½í•˜ê³  ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ.
- **í–¥í›„ ê³„íš**: ë¹„ìš© ìµœì í™”ë¥¼ ìœ„í•´ Hugging Face ëª¨ë¸ ë„ì… ê²€í† .

#### **4. DevOps ë° ë°°í¬**

- **Docker**: ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ì—¬ í™˜ê²½ì— ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤ ì‹¤í–‰.
- **AWS**: EC2(ì„œë²„), RDS(DB), S3(ì •ì  íŒŒì¼ ì €ì¥) ì‚¬ìš©.
- **GitHub Actions**: CI/CD íŒŒì´í”„ë¼ì¸ ì„¤ì •ì„ í†µí•´ ìë™í™”ëœ ë°°í¬.
- **NGINX**: ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë° ë¡œë“œ ë°¸ëŸ°ì„œ ì—­í• .

---

### **ğŸ“Œ ì•„í‚¤í…ì²˜ ê°œìš”**

```
backend/
â”œâ”€â”€ prisma/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ ai-summar/           # AI ìš”ì•½ ë° ì¶”ì²œ
â”‚   â”œâ”€â”€ auth/                # ì‚¬ìš©ì ì¸ì¦ ë° ê´€ë¦¬
â”‚   â”œâ”€â”€ crawling/            # ë‰´ìŠ¤ í¬ë¡¤ë§
â”‚   â”œâ”€â”€ database/            # ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
â”‚   â”œâ”€â”€ feedback/            # í”¼ë“œë°± ìˆ˜ì§‘ ë° ë¶„ì„
â”‚   â”œâ”€â”€ mail/                # ë©”ì¼ ë°œì†¡ ì„¤ì •
â”‚   â”œâ”€â”€ newsletter/          # ë‰´ìŠ¤ë ˆí„° ìƒì„±
â”‚   â””â”€â”€ app.module.ts        
â””â”€â”€ package.json             # í”„ë¡œì íŠ¸ ì„¤ì • ë° ì˜ì¡´ì„± íŒ¨í‚¤ì§€
```

---
### **ğŸ“Œ í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•**

```
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone 

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 3. ë„ì»¤ ì„¤ì •
docker compose up -d

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

# 5. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run start:dev
```

---

### **ğŸ“Œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ë°©ë²•**

#### MySQL
- **Host**: localhost
- **Port**: 3308
- **Database**: newpick
- **Username**: root
- **Password**: root
- **Connection URL**: `mysql://root:root@localhost:3308/newpick`
```bash
# ìŠ¤í‚¤ë§ˆ ìƒì„±
npm run prisma:generate:mysql

# DBì™€ ì—°ë™
npm run prisma:push:mysql

# DBì™€ ì—°ê²° í™•ì¸ í…ŒìŠ¤íŠ¸
npm run test:mysql
```
> [!WARNING]
> **prisma/generate, migrations íŒŒì¼ì€ commit í•˜ì§€ ë§ˆì„¸ìš”â€¼ï¸**

#### MongoDB
```bash
# DBì™€ ì—°ê²° í™•ì¸ í…ŒìŠ¤íŠ¸
npm run test:mongodb
```

---

### **ğŸ“Œ GUI ë„êµ¬ ì—°ê²°**

#### 1. MySQL Workbench
1. MySQL Workbench ì„¤ì¹˜
2. ìƒˆ ì—°ê²° ìƒì„±:
   - Hostname: localhost
   - Port: 3308
   - Username: root
   - Password: root
   - Database: newpick
   
#### 2. MongoDB Compass
1. MongoDB Compass ì„¤ì¹˜
2. ìƒˆ ì—°ê²° ìƒì„±
```
mongodb://root:root@localhost:27017,localhost:27018,localhost:27019/newpick?authSource=admin&replicaSet=myReplicaSet
```

---

### **ğŸ“Œ Prisma ì‚¬ìš© ë°©ë²•**

> [!NOTE]
> **PrismaëŠ” MySQLë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤. MongoDBëŠ” Mongoose ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.**

#### 1. ìŠ¤í‚¤ë§ˆ ë³€ê²½í•˜ê¸°
- Prisma ìŠ¤í‚¤ë§ˆ íŒŒì¼ ìˆ˜ì •
```prisma
// MySQL: prisma/mysql.schema.prisma
model User {
  id        String   @id @default(auto()) @map("_id") @mongodb.ObjectId
  email     String   @unique
  name      String?
  // ìƒˆ í•„ë“œ ì¶”ê°€
  phone     String?  
}
```
- ë³€ê²½ì‚¬í•­ ì ìš©
```bash
npx prisma migrate dev --name add_field --schema=prisma/mysql.schema.prisma
```
### 2. Prisma Studio ì ‘ì† ë° ë°ì´í„° ê´€ë¦¬
```bash
npx prisma studio --schema=prisma/mysql.schema.prisma
```
- ì ‘ì† ë°©ë²•:
   - ìœ„ ëª…ë ¹ì–´ ì‹¤í–‰
   - ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:5555` ì ‘ì†
   - ì›í•˜ëŠ” ëª¨ë¸ ì„ íƒí•˜ì—¬ ë°ì´í„° ê´€ë¦¬

- Prisma Studio ê¸°ëŠ¥:
   - ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ë°ì´í„° ì¡°íšŒ/ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ
   - í…Œì´ë¸” ê°„ ê´€ê³„ í™•ì¸
   - í•„í„°ë§ ë° ì •ë ¬
   - JSON ë°ì´í„° ì§ì ‘ í¸ì§‘
---


### **ì—ëŸ¬ ë° ëŒ€ì‘ ë°©ì•ˆ**

#### **1. ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨**

- **ì›ì¸**: SMTP ì„œë²„ ì—°ê²° ë¬¸ì œ.
- **ëŒ€ì‘ ë°©ì•ˆ**: `BullMQ` íë¥¼ í†µí•´ ì¼ì • íšŸìˆ˜ ì¬ì‹œë„.

#### **2. AI API ì‘ë‹µ ì‹¤íŒ¨**

- **ì›ì¸**: OpenAI APIì˜ ì‘ë‹µ ì§€ì—° ë˜ëŠ” ì‹¤íŒ¨.
- **ëŒ€ì‘ ë°©ì•ˆ**: ê¸°ë³¸ ë‰´ìŠ¤ ìš”ì•½ í…ìŠ¤íŠ¸ë¥¼ ì œê³µí•˜ì—¬ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ë°©ì§€.

### **ì¶”ê°€ ê¸°ëŠ¥ ê³„íš**

1. **ë‹¤êµ­ì–´ ë‰´ìŠ¤ ìš”ì•½ ì§€ì›**: ì˜ì–´, ì¼ë³¸ì–´ ë“± ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ë‰´ìŠ¤ ì œê³µ.
2. **ìŒì„± ë‰´ìŠ¤ë ˆí„° ê¸°ëŠ¥**: í…ìŠ¤íŠ¸ ë‰´ìŠ¤ë ˆí„°ë¥¼ ì˜¤ë””ì˜¤ íŒŒì¼ë¡œ ë³€í™˜í•˜ì—¬ ì œê³µ.
3. **êµ¬ë…ì í†µê³„ ê¸°ëŠ¥**: ë‰´ìŠ¤ë ˆí„° ì—´ëŒ ë° í´ë¦­ ë°ì´í„°ë¥¼ ë¶„ì„í•´ ë§ì¶¤í˜• ë³´ê³ ì„œ ìƒì„±.

### Npm list ë²„ì „ ë§ì¶”ê¸° **âœ¨í•„ìˆ˜âœ¨**
```
â”œâ”€â”€ @elastic/elasticsearch@8.17.0
â”œâ”€â”€ @nestjs-modules/ioredis@2.0.2
â”œâ”€â”€ @nestjs-modules/mailer@2.0.2
â”œâ”€â”€ @nestjs/axios@3.1.3
â”œâ”€â”€ @nestjs/bull@10.2.3
â”œâ”€â”€ @nestjs/cache-manager@2.3.0
â”œâ”€â”€ @nestjs/cli@10.4.9
â”œâ”€â”€ @nestjs/common@10.4.15
â”œâ”€â”€ @nestjs/config@3.3.0
â”œâ”€â”€ @nestjs/core@10.4.15
â”œâ”€â”€ @nestjs/elasticsearch@10.0.2
â”œâ”€â”€ @nestjs/jwt@10.2.0
â”œâ”€â”€ @nestjs/mongoose@10.1.0
â”œâ”€â”€ @nestjs/passport@10.0.3
â”œâ”€â”€ @nestjs/platform-express@10.4.15
â”œâ”€â”€ @nestjs/schedule@4.1.2
â”œâ”€â”€ @nestjs/schematics@10.2.3
â”œâ”€â”€ @nestjs/testing@10.4.15
â”œâ”€â”€ @prisma/client@6.2.0
â”œâ”€â”€ @redis/client@1.6.0
â”œâ”€â”€ @types/bcrypt@5.0.2
â”œâ”€â”€ @types/express@5.0.0
â”œâ”€â”€ @types/jest@29.5.14
â”œâ”€â”€ @types/mongoose@5.11.96
â”œâ”€â”€ @types/node@20.17.11
â”œâ”€â”€ @types/passport-google-oauth20@2.0.16
â”œâ”€â”€ @types/supertest@6.0.2
â”œâ”€â”€ @typescript-eslint/eslint-plugin@8.19.0
â”œâ”€â”€ @typescript-eslint/parser@8.19.0
â”œâ”€â”€ axios@1.7.9
â”œâ”€â”€ bcrypt@5.1.1
â”œâ”€â”€ bull@4.16.5
â”œâ”€â”€ cache-manager-ioredis@2.1.0
â”œâ”€â”€ cache-manager-redis-store@3.0.1
â”œâ”€â”€ cache-manager@5.7.6
â”œâ”€â”€ class-transformer@0.5.1
â”œâ”€â”€ class-validator@0.14.1
â”œâ”€â”€ dotenv@16.4.7
â”œâ”€â”€ eslint-config-prettier@9.1.0
â”œâ”€â”€ eslint-plugin-prettier@5.2.1
â”œâ”€â”€ eslint@8.57.1
â”œâ”€â”€ ioredis@5.4.2
â”œâ”€â”€ jest@29.7.0
â”œâ”€â”€ mongoose@8.9.3
â”œâ”€â”€ node-cron@3.0.3
â”œâ”€â”€ nodemailer@6.9.16
â”œâ”€â”€ openai@4.77.3
â”œâ”€â”€ passport-google-oauth20@2.0.0
â”œâ”€â”€ passport-jwt@4.0.1
â”œâ”€â”€ passport@0.7.0
â”œâ”€â”€ prettier@3.4.2
â”œâ”€â”€ prisma@6.2.0
â”œâ”€â”€ puppeteer@23.11.1
â”œâ”€â”€ redis@4.7.0
â”œâ”€â”€ reflect-metadata@0.2.2
â”œâ”€â”€ rxjs@7.8.1
â”œâ”€â”€ source-map-support@0.5.21
â”œâ”€â”€ supertest@7.0.0
â”œâ”€â”€ ts-jest@29.2.5
â”œâ”€â”€ ts-loader@9.5.1
â”œâ”€â”€ ts-node-dev@2.0.0
â”œâ”€â”€ ts-node@10.9.2
â”œâ”€â”€ tsconfig-paths@4.2.0
â”œâ”€â”€ typescript@5.7.2
â””â”€â”€ uuid@11.0.4
```
