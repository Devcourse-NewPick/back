<aside>
ğŸ”¥

ë°°í¬ëœ ê¸°ì¤€ìœ¼ë¡œ ì •ë¦¬ëœ ë²„ì ¼ì…ë‹ˆë‹¤. **_05.02.2025**

</aside>

# ğŸ— ë‰´í”½: NewPick

## **í”„ë¡œì íŠ¸ ê°œìš”**

`ë‰´í”½(NewPick)` ì„œë¹„ìŠ¤ëŠ” ì‚¬ìš©ìê°€ ê´€ì‹¬ ë¶„ì•¼ë¥¼ ì„¤ì •í•˜ë©´ ìµœì‹  ë‰´ìŠ¤ë¥¼ AI ë§ì¶¤í˜•ìœ¼ë¡œ ë°›ì•„ë³¼ ìˆ˜ ìˆëŠ” ì§ê´€ì ì´ê³  ì‚¬ìš©ì ì¹œí™”ì ì¸ ë‰´ìŠ¤ë ˆí„° ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

AI ê¸°ë°˜ ë‰´ìŠ¤ ìš”ì•½ê³¼ íš¨ìœ¨ì ì¸ í¬ë¡¤ë§ ê¸°ëŠ¥ì„ í†µí•´ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì²˜ë¦¬í•˜ê³  ì´ë©”ì¼ ë‰´ìŠ¤ë ˆí„° ì„œë¹„ìŠ¤ê¹Œì§€ ì œê³µí•©ë‹ˆë‹¤.

ë°±ì—”ë“œ ì‹œìŠ¤í…œì€ NestJS ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•í•˜ì—¬ ì•ˆì •ì„±ê³¼ í™•ì¥ì„±ì„ í™•ë³´í•˜ì˜€ìœ¼ë©°, MySQLê³¼ MongoDBë¥¼ ì‚¬ìš©í•´ ë°ì´í„° ì €ì¥ì„ ê´€ë¦¬í•˜ëŠ” êµ¬ì¡°ë¡œ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. (**RedisëŠ” ì¼ë¶€ ìºì‹± ë° ì‘ì—… íë¡œ ì‚¬ìš©ë¨**)

---

## âš™**ê¸°ìˆ  ìŠ¤íƒ**

### **1. ë°±ì—”ë“œ (NestJS ê¸°ë°˜)**

| ê¸°ìˆ  | ì—­í•  |
| --- | --- |
| **NestJS (TypeScript)** | ëª¨ë“ˆ ê¸°ë°˜ ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬ |
| **Prisma ORM + GCP MySQL** | ì‚¬ìš©ì ë° êµ¬ë… ë°ì´í„° ì €ì¥ |
| **MongoDB Atlas** | AI ìš”ì•½ ë° í¬ë¡¤ë§ ë°ì´í„° ì €ì¥ |
| **Puppeteer** | ë„¤ì´ë²„ ë‰´ìŠ¤ í¬ë¡¤ë§ |
| **OpenAI API** | ë‰´ìŠ¤ ìš”ì•½ ìƒì„± |
| **Google OAuth + JWT** | ë¡œê·¸ì¸ ë° ì¸ì¦ ê´€ë¦¬ |
| **Nodemailer** | ë‰´ìŠ¤ë ˆí„° ì´ë©”ì¼ ë°œì†¡ |
| **Sentry** | ì„œë²„ ëª¨ë‹ˆí„°ë§ ë° ì—ëŸ¬ ë¡œê¹… |
| **SSL ì¸ì¦** | HTTPS ê¸°ë°˜ ë³´ì•ˆ ì ìš© |

### **2. ë°°í¬ ë° ìš´ì˜**

| ê¸°ìˆ  | ì—­í•  |
| --- | --- |
| **AWS EC2 (Ubuntu)** | ë°±ì—”ë“œ ì„œë²„ ë°°í¬ |
| **GitHub Actions** | CI/CD ìë™í™” |
| **Vercel** | í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ |
| **GCP MySQL** | ìœ ì € ë° êµ¬ë… ë°ì´í„° ì €ì¥ |
| **MongoDB Atlas** | í¬ë¡¤ë§ëœ ë‰´ìŠ¤ ë° AI ìš”ì•½ ì €ì¥ |
| **Nginx** |  ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë° ë¡œë“œ ë°¸ëŸ°ì‹± |
| **Node** | NestJS ì‹¤í–‰ í™˜ê²½ |

### **3. í”„ë¡ íŠ¸ì—”ë“œ (Next.js ê¸°ë°˜)**

| ê¸°ìˆ  | ì—­í•  |
| --- | --- |
| **Next.js + React** | SSR ë° í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ |
| **React Query** | API ìƒíƒœ ê´€ë¦¬ (ë°ì´í„° ìºì‹±) |
| **Zustand** | ì „ì—­ ìƒíƒœ ê´€ë¦¬ (JWT, ìœ ì € ì •ë³´) |
| **Fetch / Axios** | ë°±ì—”ë“œ API í†µì‹  |

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥

### 1. ì‚¬ìš©ì ê´€ë¦¬

- íšŒì›ê°€ì… ë° ë¡œê·¸ì¸: ì´ë©”ì¼ ë° Google ì†Œì…œ ë¡œê·¸ì¸(OAuth 2.0) ì§€ì›
- í”„ë¡œí•„ ê´€ë¦¬: ê´€ì‹¬ ë¶„ì•¼ ì„¤ì • ë° ë‰´ìŠ¤ë ˆí„° ìˆ˜ì‹  ì£¼ê¸° ì„¤ì •
- êµ¬ë… ê´€ë¦¬: êµ¬ë… ì¼ì‹œ ì •ì§€ ë° ì·¨ì†Œ ê¸°ëŠ¥ ì§€ì›

### 2. ë‰´ìŠ¤ í¬ë¡¤ë§

- **Puppeteer**ë¥¼ ì´ìš©í•˜ì—¬ ì›¹ í˜ì´ì§€ì—ì„œ ìµœì‹  ë‰´ìŠ¤ í¬ë¡¤ë§

### 3. AI ìš”ì•½ ë° ë‰´ìŠ¤ ì¶”ì²œ

- **OpenAI API**ë¥¼ ì—°ë™í•˜ì—¬ ë‰´ìŠ¤ ë³¸ë¬¸ ìš”ì•½ ë° ì£¼ìš” í‚¤ì›Œë“œ ì¶”ì¶œ
- ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ ì‚¬ ë‰´ìŠ¤ ì¶”ì²œ

### 4. ë‰´ìŠ¤ë ˆí„° ìƒì„± ë° ë°œì†¡

- ì‚¬ìš©ì ì„¤ì • ì£¼ê¸°ì— ë§ì¶° ë‰´ìŠ¤ë ˆí„° ìë™ ìƒì„± (ì¼ê°„, ì£¼ê°„, ì›”ê°„)
- **Nodemailer**ë¥¼ ì´ìš©í•˜ì—¬ ë‰´ìŠ¤ë ˆí„° ì´ë©”ì¼ ë°œì†¡
- ë‰´ìŠ¤ë ˆí„° ë¶ë§ˆí¬ ê¸°ëŠ¥ ì¶”ê°€

### 5. í”¼ë“œë°± ë° ì‚¬ìš©ì ë°˜ì‘ ë¶„ì„

- ì‚¬ìš©ìì˜ ë‰´ìŠ¤ë ˆí„° í‰ê°€(ë³„ì  ë° ì˜ê²¬) ìˆ˜ì§‘
- í”¼ë“œë°± ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ì¶”ì²œ ëª¨ë¸ ê°œì„ 
- ë‰´ìŠ¤ë ˆí„° ë¶ë§ˆí¬ ê¸°ëŠ¥ ì œê³µ

## ğŸ“Œ ì£¼ìš” ëª¨ë“ˆ ì„¤ëª…

### 1. ì¸ì¦ ë° ì‚¬ìš©ì ê´€ë¦¬ ëª¨ë“ˆ (auth/)

- ê¸°ëŠ¥: JWT í† í° ê¸°ë°˜ ì¸ì¦ ë° ì†Œì…œ ë¡œê·¸ì¸
- ë¼ì´ë¸ŒëŸ¬ë¦¬: @nestjs/jwt, passport-jwt, bcrypt

### 2. ë‰´ìŠ¤ í¬ë¡¤ë§ ëª¨ë“ˆ (crawling/)

- ê¸°ëŠ¥: ë‰´ìŠ¤ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ìµœì‹  ë‰´ìŠ¤ ìˆ˜ì§‘
- ë¼ì´ë¸ŒëŸ¬ë¦¬: puppeteer, p-queue, mongoose

### 3. AI ìš”ì•½ ë° ì¶”ì²œ ëª¨ë“ˆ (ai-summary/)

- ê¸°ëŠ¥: OpenAI APIë¥¼ í†µí•´ ë‰´ìŠ¤ ë³¸ë¬¸ ìš”ì•½ ë° ì¶”ì²œ
- ìì²´ í•™ìŠµ ëª¨ë¸ ì ìš© ê²€í†  ì¤‘

### 4. ë‰´ìŠ¤ë ˆí„° ìƒì„± ë° ë°œì†¡ ëª¨ë“ˆ (newsletter/)

- ê¸°ëŠ¥: ë‰´ìŠ¤ë ˆí„° ìƒì„± ë° ì´ë©”ì¼ ë°œì†¡
- ë¼ì´ë¸ŒëŸ¬ë¦¬: @nestjs-modules/mailer, nodemailer
- ì—ëŸ¬ ì²˜ë¦¬: BullMQë¥¼ ì‚¬ìš©í•´ ë°œì†¡ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ ì ìš©

### 5. í”¼ë“œë°± ë° ë¶ë§ˆí¬ ê´€ë¦¬ ëª¨ë“ˆ (feedback/)

- ê¸°ëŠ¥: ë‰´ìŠ¤ë ˆí„° í”¼ë“œë°± ìˆ˜ì§‘ ë° ë¶ë§ˆí¬ ì €ì¥
- í™œìš©: í”¼ë“œë°± ë°ì´í„°ë¥¼ ë¶„ì„í•´ ì¶”ì²œ ëª¨ë¸ ìµœì í™”

### 6. ê´€ë¦¬ì ëª¨ë“ˆ (admin/)

- ê¸°ëŠ¥: ê´€ë¦¬ì ê³„ì • ê´€ë¦¬ ë° ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ë§

### 7. ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ ëª¨ë“ˆ (category/)

- ê¸°ëŠ¥: ë‰´ìŠ¤ ì¹´í…Œê³ ë¦¬ CRUD

### 8. ë‰´ìŠ¤ ì €ì¥ì†Œ ëª¨ë“ˆ (repository/)

- ê¸°ëŠ¥: AI ìš”ì•½ ë¡œê·¸, ì´ë©”ì¼ ì•„ì¹´ì´ë¸Œ ë° ë‰´ìŠ¤ë ˆí„° ì €ì¥ ê´€ë¦¬

### 9. ë§ˆì´í˜ì´ì§€ ëª¨ë“ˆ (mypage/)

- ê¸°ëŠ¥: ì‚¬ìš©ì ë§ì¶¤í˜• ì •ë³´ ì œê³µ ë° ê°œì¸í™” ì„¤ì • ê´€ë¦¬

### 10. êµ¬ë…ì ê´€ë¦¬ ëª¨ë“ˆ (subscriber/)

- ê¸°ëŠ¥: êµ¬ë…ì ê´€ë ¨ ì •ë³´ ê´€ë¦¬ ë° ë‰´ìŠ¤ë ˆí„° ë°œì†¡ ëŒ€ìƒ ê´€ë¦¬

### 11. ìŠ¤ì¼€ì¤„ëŸ¬ ëª¨ë“ˆ (scheduler/)

- ê¸°ëŠ¥: ë‰´ìŠ¤ë ˆí„° ë°œì†¡ ì¼ì • ê´€ë¦¬ ë° ìë™í™” ì²˜ë¦¬

### 12. ê³µí†µ ìœ í‹¸ë¦¬í‹° ë° ë¯¸ë“¤ì›¨ì–´ (common/, middleware/)

- ê¸°ëŠ¥: ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤, í—¬í¼ í•¨ìˆ˜ ë° ë¯¸ë“¤ì›¨ì–´ ê´€ë¦¬

### 13. ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ë§ (monitoring/)

- ê¸°ëŠ¥: ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ ë° ì„±ëŠ¥ ìµœì í™”

### 14. ìœ ì € ëª¨ë“ˆ (user/)

- ê¸°ëŠ¥: ë“±ë¡ëœ ìœ ì € ê´€ë ¨ ê¸°ëŠ¥ ê´€ë¦¬

## ğŸ“Œ API ê¸°ëŠ¥ ë° ì„¤ëª…

### ì‚¬ìš©ì ê´€ë¦¬ API

- POST /auth/signup: íšŒì›ê°€ì… ìš”ì²­
- POST /auth/login: ë¡œê·¸ì¸ ìš”ì²­
- GET /user/profile: ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ ë° ìˆ˜ì •
- PATCH /user/pause-subscription: êµ¬ë… ì¼ì‹œ ì •ì§€
- DELETE /user/cancel-subscription: êµ¬ë… ì·¨ì†Œ

### AI ë‰´ìŠ¤ ìš”ì•½ ë° ì¶”ì²œ API

- POST /news/summary: ì…ë ¥ëœ ë‰´ìŠ¤ ë³¸ë¬¸ì„ AIë¡œ ìš”ì•½
- GET /news/recommend: ì‚¬ìš©ì ê´€ì‹¬ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‰´ìŠ¤ ì¶”ì²œ

### ë‰´ìŠ¤ë ˆí„° API

- POST /newsletter/send: ë‰´ìŠ¤ë ˆí„° ë°œì†¡ ìš”ì²­
- GET /newsletter/preview: ë‰´ìŠ¤ë ˆí„° ë¯¸ë¦¬ë³´ê¸°
- POST /newsletter/bookmark: ë‰´ìŠ¤ë ˆí„° ë¶ë§ˆí¬ ì €ì¥
- GET /newsletter/bookmarks: ë¶ë§ˆí¬ëœ ë‰´ìŠ¤ë ˆí„° ì¡°íšŒ

### í”¼ë“œë°± ìˆ˜ì§‘ API

- POST /feedback: ë‰´ìŠ¤ë ˆí„° í”¼ë“œë°± ì œì¶œ
- GET /feedback/list: ë‰´ìŠ¤ë ˆí„° í”¼ë“œë°± ì¡°íšŒ

## ğŸ“Œ ì•„í‚¤í…ì²˜ ê°œìš”

```
backend/
â”œâ”€â”€ .github/               # ê¹ƒí—ˆë¸Œ ì•¡ì…˜ì¦ˆ CI/CD - AWS EC2
â”œâ”€â”€ prisma/                # Prisma ORM ì„¤ì • ë° MySQL ê´€ë¦¬
â”œâ”€â”€ scripts/               # ë°ì´í„° ë° í™˜ê²½ ì„¤ì • ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ test/                  # E2E(ì—”ë“œ íˆ¬ ì—”ë“œ) í…ŒìŠ¤íŠ¸ í™˜ê²½
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ admin/               # ê´€ë¦¬ì ê¸°ëŠ¥
â”‚   â”œâ”€â”€ ai-summary/          # AI ìš”ì•½ ë° ì¶”ì²œ
â”‚   â”œâ”€â”€ auth/                # ì‚¬ìš©ì ì¸ì¦ ë° ê´€ë¦¬
â”‚   â”œâ”€â”€ category/            # ë‰´ìŠ¤ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ common/              # ê³µí†µ ìœ í‹¸ë¦¬í‹° ë° ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ crawling/            # ë‰´ìŠ¤ í¬ë¡¤ë§
â”‚   â”œâ”€â”€ feedback/            # í”¼ë“œë°± ë° ë¶ë§ˆí¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ mail/                # ë©”ì¼ ë°œì†¡ ì„¤ì •
â”‚   â”œâ”€â”€ middleware/          # ìš”ì²­ ë¡œê¹… ë° ë³´ì•ˆ ê´€ë ¨ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ monitoring/          # ì„œë¹„ìŠ¤ ëª¨ë‹ˆí„°ë§
â”‚   â”œâ”€â”€ mypage/              # ë§ˆì´í˜ì´ì§€ ê¸°ëŠ¥
â”‚   â”œâ”€â”€ news/                # ë‰´ìŠ¤ ê´€ë ¨ ë°ì´í„° ê´€ë¦¬
â”‚   â”œâ”€â”€ repository/          # ë°ì´í„° ì €ì¥ì†Œ ê´€ë¦¬
â”‚   â”œâ”€â”€ scheduler/           # ìŠ¤ì¼€ì¤„ë§ ë° ìë™í™”
â”‚   â”œâ”€â”€ subscriber/          # êµ¬ë…ì ê´€ë¦¬
â”‚   â”œâ”€â”€ user/                # ì‚¬ìš©ì ì •ë³´ ê´€ë¦¬
â”‚   â”œâ”€â”€ app.controller.ts    # ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”œâ”€â”€ app.module.ts        # ì•± ëª¨ë“ˆ ì •ì˜
â”‚   â”œâ”€â”€ app.service.ts       # ê¸°ë³¸ ì„œë¹„ìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ global.filters.ts    # ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ í•„í„°
â”‚   â”œâ”€â”€ instrument.ts        # ì„œë¹„ìŠ¤ ë‚´ë¶€ ì¸¡ì • ë¡œì§
â”‚   â”œâ”€â”€ main.ts              # ì• í”Œë¦¬ì¼€ì´ì…˜ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”œâ”€â”€ .env                    # í™˜ê²½ ë³€ìˆ˜ íŒŒì¼
â”œâ”€â”€ docker-compose.yml      # Docker ì„œë¹„ìŠ¤ êµ¬ì„± íŒŒì¼
â”œâ”€â”€ Dockerfile              # ë°±ì—”ë“œ ì„œë²„ Docker ë¹Œë“œ íŒŒì¼
â”œâ”€â”€ nest-cli.json           # NestJS CLI ì„¤ì • íŒŒì¼
â”œâ”€â”€ package-lock.json       # íŒ¨í‚¤ì§€ ë²„ì „ ê³ ì • íŒŒì¼
â”œâ”€â”€ package.json            # íŒ¨í‚¤ì§€ ê´€ë¦¬ ë° ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
â”œâ”€â”€ README.md               # í”„ë¡œì íŠ¸ ì„¤ëª… ë° ì‹¤í–‰ ë°©ë²• ë¬¸ì„œ
â”œâ”€â”€ tsconfig.build.json     # TypeScript ë¹Œë“œ ì„¤ì •
â””â”€â”€ tsconfig.json           # TypeScript ì„¤ì •

```

---

## **ì—ëŸ¬ ë° ëŒ€ì‘ ë°©ì•ˆ**

### **1. JWT ì¸ì¦ ì‹¤íŒ¨**

- **ì›ì¸**:
    - ë§Œë£Œëœ JWT í† í° ì‚¬ìš©
    - ì˜ëª»ëœ ì„œëª… ë˜ëŠ” ë³€ì¡°ëœ í† í°
    - ì„œë²„ì—ì„œ ë°œê¸‰í•œ í† í°ì´ ì‚­ì œë¨ (ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ ë“±)
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - ë§Œë£Œëœ í† í°ì— ëŒ€í•´ `401 Unauthorized` ë°˜í™˜ í›„, í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìë™ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
    - Refresh Tokenì„ ì´ìš©í•œ ì¬ë°œê¸‰ ì‹œìŠ¤í…œ ì ìš©
    - ë¡œê·¸ì¸í•  ë•Œ ìƒˆë¡œìš´ Access Tokenì„ ìƒì„±í•˜ê³ , ê¸°ì¡´ í† í°ì„ ë¬´íš¨í™”

---

### **2. êµ¬ë…ì ë°ì´í„° ë¶ˆì¼ì¹˜**

- **ì›ì¸**:
    - êµ¬ë… ì·¨ì†Œ í›„ì—ë„ ë‰´ìŠ¤ë ˆí„°ê°€ ê³„ì† ë°œì†¡ë¨
    - êµ¬ë… ìƒíƒœê°€ ì˜¬ë°”ë¥´ê²Œ ê°±ì‹ ë˜ì§€ ì•ŠìŒ
    - ë‹¤ì¤‘ ìš”ì²­ìœ¼ë¡œ ì¸í•´ ë™ê¸°í™” ë¬¸ì œ ë°œìƒ
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - êµ¬ë… ë³€ê²½ ìš”ì²­ì„ `íŠ¸ëœì­ì…˜(Transaction)`ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë°ì´í„° ì¼ê´€ì„± ìœ ì§€
    - êµ¬ë… ìƒíƒœ ë³€ê²½ í›„, ë³€ê²½ëœ ì •ë³´ë¥¼ ìºì‹±í•˜ì—¬ ìµœì‹  ìƒíƒœ ìœ ì§€
    - ë‰´ìŠ¤ë ˆí„° ë°œì†¡ ì‹œ, êµ¬ë… ìƒíƒœë¥¼ í•œ ë²ˆ ë” ê²€ì¦ í›„ ë°œì†¡

---

### **3. í¬ë¡¤ë§ ë°ì´í„° ì €ì¥ ì‹¤íŒ¨**

- **ì›ì¸**:
    - í¬ë¡¤ë§í•œ ë°ì´í„°ê°€ MongoDB ì €ì¥ ì‹œ Schema ë¶ˆì¼ì¹˜ ë°œìƒ
    - MongoDB Atlas ì—°ê²° ë¬¸ì œ
    - í¬ë¡¤ë§ ì¤‘ í˜ì´ì§€ ì ‘ê·¼ ì°¨ë‹¨
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - í¬ë¡¤ë§í•œ ë°ì´í„°ë¥¼ ì €ì¥ ì „ì— ìœ íš¨ì„± ê²€ì¦ (Schema Validation)
    - MongoDB ì—°ê²° ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì ê²€í•˜ê³  ì¬ì—°ê²° ì‹œë„
    - User-Agent ë° Proxy ì‚¬ìš©ìœ¼ë¡œ í¬ë¡¤ë§ ì°¨ë‹¨ íšŒí”¼

---

### **4. AI ìš”ì•½ ë‚´ìš© ë¶€ì •í™•ì„±**

- **ì›ì¸**:
    - OpenAI APIì—ì„œ ë°˜í™˜í•˜ëŠ” ìš”ì•½ì´ ë¶€ì ì ˆí•˜ê±°ë‚˜ ë¶ˆì™„ì „í•¨
    - ì…ë ¥ëœ ë‰´ìŠ¤ ë³¸ë¬¸ì´ ë„ˆë¬´ ì§§ê±°ë‚˜ ê°€ê³µë˜ì§€ ì•ŠìŒ
    - ëª¨ë¸ì´ ì ì ˆí•œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•¨
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - ìš”ì•½ ì „ `ì „ì²˜ë¦¬(Preprocessing)` ë‹¨ê³„ì—ì„œ ë‰´ìŠ¤ ë³¸ë¬¸ ì •ì œ
    - ê¸°ë³¸ì ìœ¼ë¡œ `í‚¤ì›Œë“œ ê¸°ë°˜ ìš”ì•½ ë°±ì—… ì‹œìŠ¤í…œ`ì„ ì ìš©í•˜ì—¬ AI ì‘ë‹µ ì‹¤íŒ¨ ì‹œ ëŒ€ì²´
    - AI API í˜¸ì¶œ í›„, íŠ¹ì • ì¡°ê±´(ë‹¨ì–´ ìˆ˜, ì‹ ë¢°ë„ ë“±)ì— ë”°ë¼ ìš”ì•½ì„ ë³´ì •

---

### **5. ë‰´ìŠ¤ë ˆí„° ì´ë©”ì¼ ì „ì†¡ ì§€ì—°**

- **ì›ì¸**:
    - ë‰´ìŠ¤ë ˆí„°ë¥¼ ë°œì†¡í•  êµ¬ë…ìê°€ ë§ì•„ SMTP ì„œë²„ê°€ ë¶€í•˜ë¥¼ ë°›ìŒ
    - `BullMQ` íì— ê³¼ë¶€í•˜ ë°œìƒ
    - ì´ë©”ì¼ ë³¸ë¬¸ ìƒì„± ê³¼ì •ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒê°€ ì§€ì—°ë¨
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - ë‰´ìŠ¤ë ˆí„° ë°œì†¡ì„ **ë°°ì¹˜(Batch) ì²˜ë¦¬**í•˜ì—¬ ë¶€í•˜ë¥¼ ë¶„ì‚°
    - **ì´ë©”ì¼ ì „ì†¡ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ ì¶”ê°€** (`BullMQ` ì¬ì‹œë„ ì„¤ì • ì¡°ì •)
    - ì´ë©”ì¼ ë³¸ë¬¸ì„ **ì‚¬ì „ì— ìºì‹±**í•˜ì—¬ ìƒì„± ì†ë„ í–¥ìƒ

---

### **6. API ìš”ì²­ ê³¼ë¶€í•˜**

- **ì›ì¸**:
    - ê°™ì€ ìš”ì²­ì„ ì§§ì€ ì‹œê°„ ë‚´ì— ë°˜ë³µì ìœ¼ë¡œ ìš”ì²­ (DDOS ê³µê²© ê°€ëŠ¥ì„±)
    - ë¬´ë¶„ë³„í•œ ë°ì´í„° ìš”ì²­ìœ¼ë¡œ ì¸í•´ DB ì¡°íšŒ ë¶€í•˜ ë°œìƒ
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - **Rate Limiting(ì†ë„ ì œí•œ)** ì ìš© (`nestjs/throttler` í™œìš© ê°€ëŠ¥)
    - **ìºì‹±(Cache)** ì ìš©í•˜ì—¬ ìì£¼ ìš”ì²­ë˜ëŠ” ë°ì´í„°ë¥¼ ì €ì¥ (Redis ì‚¬ìš© ê³ ë ¤)
    - ëŒ€ëŸ‰ ìš”ì²­ì´ í•„ìš”í•œ APIì—ëŠ” **ë¹„ë™ê¸° Queue ì‹œìŠ¤í…œ** ì ìš©

---

### **7. ê´€ë¦¬ì ê¸°ëŠ¥ ì•…ìš© ê°€ëŠ¥ì„±**

- **ì›ì¸**:
    - ê´€ë¦¬ì API ì—”ë“œí¬ì¸íŠ¸ê°€ ì œëŒ€ë¡œ ë³´í˜¸ë˜ì§€ ì•ŠìŒ
    - ì˜ëª»ëœ ê¶Œí•œ ê²€ì¦ìœ¼ë¡œ ì¸í•´ ì¼ë°˜ ì‚¬ìš©ìê°€ ê´€ë¦¬ì APIì— ì ‘ê·¼ ê°€ëŠ¥
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - ê´€ë¦¬ì APIì— **`Admin Guard` ì ìš©**í•˜ì—¬ ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
    - ëª¨ë“  ìš”ì²­ì— **ë¡œê¹… ë° ê°ì‚¬ ë¡œê·¸(Audit Log) ê¸°ë¡**
    - ê´€ë¦¬ì ê¸°ëŠ¥ ìˆ˜í–‰ ì‹œ **ì´ì¤‘ ì¸ì¦(2FA)** ì˜µì…˜ ì¶”ê°€ ê³ ë ¤

---

### **8. ë°ì´í„° ì •í•©ì„± ë¬¸ì œ**

- **ì›ì¸**:
    - MySQLê³¼ MongoDB ê°„ ë™ê¸°í™” ì˜¤ë¥˜ ë°œìƒ (ì˜ˆ: ê°™ì€ ë‰´ìŠ¤ê°€ ì¤‘ë³µ ì €ì¥)
    - íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ì—†ì´ ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš° ë°ì´í„° ë¶ˆì¼ì¹˜ ë°œìƒ
- **ëŒ€ì‘ ë°©ì•ˆ**:
    - **Prisma íŠ¸ëœì­ì…˜(Transaction) ì ìš©**í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì›ìì ìœ¼ë¡œ ì²˜ë¦¬
    - MongoDB ì €ì¥ ì „, ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ì¸ì§€ í™•ì¸ í›„ ì €ì¥
    - íŠ¹ì • í…Œì´ë¸” ì—…ë°ì´íŠ¸ í›„, ì—°ê´€ëœ ë°ì´í„°ë„ ë™ê¸°í™” ì‹¤í–‰

## **í”„ë¡œì íŠ¸ ì‹¤í–‰ ë°©ë²•**

### **1. ì„¤ì¹˜ ë° ì‹¤í–‰**

```
# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run start:dev
```

### **2. ì£¼ìš” í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

```
OPENAI_API_KEY=
MONGO_URL=
JWT_REFRESH_SECRET=  #openssl rand -base64 32
JWT_SECRET= #openssl rand -base64 32
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=

# # ë°±ì—”ë“œ í¬íŠ¸ ë²ˆí˜¸
PORT="3001"

# # CORS í—ˆìš© ì£¼ì†Œ
FRONTEND_URL=
MAIL_USER=
MAIL_PASSWORD=
SENTRY_DSN=
MYSQL_URL=
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ê°€ì´ë“œ

1. **MySQL**

```jsx
- **Host**: localhost
- **Port**: 3308
- **Database**: newpick
- **Connection URL**:
- **GUI**: MySQL Workbench
```

```
# ìŠ¤í‚¤ë§ˆ ìƒì„±
npm run prisma:generate:mysql

# DBì™€ ì—°ë™
npm run prisma:push:mysql

# DBì™€ ì—°ê²° í™•ì¸ í…ŒìŠ¤íŠ¸
npm run test:mysql
```

**MongoDB**

- **Connection URL**: ì˜ˆì‹œ ğŸ‘‰ğŸ¼Â `mongodb:`
- **GUI**: MongoDB Compass

```
# DBì™€ ì—°ê²° í™•ì¸ í…ŒìŠ¤íŠ¸
npm run test:mongodb
```

### 

1. **Prisma ì‚¬ìš© ë°©ë²•**

> **PrismaëŠ” MySQLë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤. MongoDBëŠ” Mongoose ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.**
> 

**1. ìŠ¤í‚¤ë§ˆ ë³€ê²½í•˜ê¸°**

- Prisma ìŠ¤í‚¤ë§ˆ íŒŒì¼ ìˆ˜ì •

```
// MySQL: prisma/mysql.schema.prisma
model User {
  id        String   @id @default(auto()) @map("_id") @mongodb.ObjectId
  email     String   @unique
  name      String?
  // ìƒˆ í•„ë“œ ì¶”ê°€
  phone     String?  
}
```

- ë³€ê²½ì‚¬í•­ ì ìš© (ì˜¤ë¥˜ì‹œ package.json ì°¸ê³ )

```
npm run prisma:generate
npm run prisma:migrate
```

**2. Prisma Studio ì ‘ì† ë° ë°ì´í„° ê´€ë¦¬**

```
npm run prisma:studio
```

- **ì ‘ì† ë°©ë²•**:
    - ìœ„ ëª…ë ¹ì–´ ì‹¤í–‰
    - ë¸Œë¼ìš°ì €ì—ì„œÂ `http://localhost:5555`Â ì ‘ì†
    - ì›í•˜ëŠ” ëª¨ë¸ ì„ íƒí•˜ì—¬ ë°ì´í„° ê´€ë¦¬
- **Prisma Studio ê¸°ëŠ¥**:
    - ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ë°ì´í„° ì¡°íšŒ/ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ
    - í…Œì´ë¸” ê°„ ê´€ê³„ í™•ì¸
    - í•„í„°ë§ ë° ì •ë ¬
    - JSON ë°ì´í„° ì§ì ‘ í¸ì§‘

### 3. Prisma ìŠ¤í‚¤ë§ˆ ì ìš©

```bash
# MySQL ìŠ¤í‚¤ë§ˆ ì ìš©
npx prisma generate --schema=prisma/mysql.schema.prisma
npx prisma migrate dev --schema=prisma/mysql.schema.prisma --name init
```

### 5. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸

```bash
# Prisma Studioë¡œ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸ (MySQL)
npx prisma studio --schema=prisma/mysql.schema.prisma
```

**ì¶”ê°€ ê¸°ëŠ¥ ê³„íš**

1. **ë‹¤êµ­ì–´ ë‰´ìŠ¤ ìš”ì•½ ì§€ì›**: ì˜ì–´, ì¼ë³¸ì–´ ë“± ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ë‰´ìŠ¤ ì œê³µ.
2. **ìŒì„± ë‰´ìŠ¤ë ˆí„° ê¸°ëŠ¥**: í…ìŠ¤íŠ¸ ë‰´ìŠ¤ë ˆí„°ë¥¼ ì˜¤ë””ì˜¤ íŒŒì¼ë¡œ ë³€í™˜í•˜ì—¬ ì œê³µ.
3. **êµ¬ë…ì í†µê³„ ê¸°ëŠ¥**: ë‰´ìŠ¤ë ˆí„° ì—´ëŒ ë° í´ë¦­ ë°ì´í„°ë¥¼ ë¶„ì„í•´ ë§ì¶¤í˜• ë³´ê³ ì„œ ìƒì„±.
4. **ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥** : ì‚¬ìš©ì ê°„ì˜ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì„ í™œì„±. (ì¹´í…Œê³ ë¦¬ë³„/ ê²Œì‹œê¸€, ëŒ“ê¸€)

**Npm list ë²„ì „ ë§ì¶”ê¸°Â âœ¨í•„ìˆ˜âœ¨**

```jsx
â”œâ”€â”€ @elastic/elasticsearch@8.17.0
â”œâ”€â”€ @esm2cjs/p-queue@7.3.0
â”œâ”€â”€ @faker-js/faker@9.4.0
â”œâ”€â”€ @nestjs-modules/ioredis@2.0.2
â”œâ”€â”€ @nestjs-modules/mailer@2.0.2
â”œâ”€â”€ @nestjs/axios@3.1.3
â”œâ”€â”€ @nestjs/bull@10.2.3
â”œâ”€â”€ @nestjs/cache-manager@2.3.0
â”œâ”€â”€ @nestjs/cli@10.4.9
â”œâ”€â”€ @nestjs/common@10.4.15
â”œâ”€â”€ @nestjs/config@3.3.0
â”œâ”€â”€ @nestjs/core@10.4.15
â”œâ”€â”€ @nestjs/elasticsearch@10.0.2
â”œâ”€â”€ @nestjs/jwt@10.2.0
â”œâ”€â”€ @nestjs/mongoose@10.1.0
â”œâ”€â”€ @nestjs/passport@10.0.3
â”œâ”€â”€ @nestjs/platform-express@10.4.15
â”œâ”€â”€ @nestjs/schedule@4.1.2
â”œâ”€â”€ @nestjs/schematics@10.2.3
â”œâ”€â”€ @nestjs/testing@10.4.15
â”œâ”€â”€ @prisma/client@6.2.1
â”œâ”€â”€ @redis/client@1.6.0
â”œâ”€â”€ @sentry/nestjs@8.51.0
â”œâ”€â”€ @sentry/profiling-node@8.51.0
â”œâ”€â”€ @types/bcrypt@5.0.2
â”œâ”€â”€ @types/express@5.0.0
â”œâ”€â”€ @types/jest@29.5.14
â”œâ”€â”€ @types/node@20.17.14
â”œâ”€â”€ @types/passport-google-oauth20@2.0.16
â”œâ”€â”€ @types/supertest@6.0.2
â”œâ”€â”€ @types/webidl-conversions@7.0.3
â”œâ”€â”€ @typescript-eslint/eslint-plugin@8.21.0
â”œâ”€â”€ @typescript-eslint/parser@8.21.0
â”œâ”€â”€ axios@1.7.9
â”œâ”€â”€ bcrypt@5.1.1
â”œâ”€â”€ bull@4.16.5
â”œâ”€â”€ cache-manager-ioredis@2.1.0
â”œâ”€â”€ cache-manager-redis-store@3.0.1
â”œâ”€â”€ cache-manager@5.7.6
â”œâ”€â”€ class-transformer@0.5.1
â”œâ”€â”€ class-validator@0.14.1
â”œâ”€â”€ cookie-parser@1.4.7
â”œâ”€â”€ cross-env@7.0.3
â”œâ”€â”€ dayjs@1.11.13
â”œâ”€â”€ dotenv@16.4.7
â”œâ”€â”€ eslint-config-prettier@9.1.0
â”œâ”€â”€ eslint-plugin-prettier@5.2.3
â”œâ”€â”€ eslint@8.57.1
â”œâ”€â”€ glob@9.3.5
â”œâ”€â”€ ioredis@5.4.2
â”œâ”€â”€ jest@29.7.0
â”œâ”€â”€ jsdom@26.0.0
â”œâ”€â”€ mongoose@8.9.5
â”œâ”€â”€ node-cron@3.0.3
â”œâ”€â”€ nodemailer@6.9.16
â”œâ”€â”€ openai@4.79.1
â”œâ”€â”€ passport-google-oauth20@2.0.0
â”œâ”€â”€ passport-jwt@4.0.1
â”œâ”€â”€ passport@0.7.0
â”œâ”€â”€ prettier@3.4.2
â”œâ”€â”€ prisma@6.2.1
â”œâ”€â”€ puppeteer@23.11.1
â”œâ”€â”€ redis@4.7.0
â”œâ”€â”€ reflect-metadata@0.2.2 
â”œâ”€â”€ rimraf@4.4.1
â”œâ”€â”€ rxjs@7.8.1
â”œâ”€â”€ source-map-support@0.5.21
â”œâ”€â”€ supertest@7.0.0
â”œâ”€â”€ ts-jest@29.2.5
â”œâ”€â”€ ts-loader@9.5.2
â”œâ”€â”€ ts-node-dev@2.0.0
â”œâ”€â”€ ts-node@10.9.2
â”œâ”€â”€ tsconfig-paths@4.2.0
â”œâ”€â”€ typescript@5.7.3
â”œâ”€â”€ uuid@11.0.5
â””â”€â”€ webidl-conversions@7.0.0
```